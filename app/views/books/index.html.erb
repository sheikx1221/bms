<% @books.each do |book| %>
  <div style="display:flex; flex-direction: row;">
    <div style="flex:0.2">
      <div style="margin-top: 5%"></div>
      <%= image_tag book.book_image_link, style: "width:20vw;height:50vh;"%>
      <div style="margin-top: 5%"></div>      
    </div>
    <div style="flex:0.1"></div>
    <div style="flex:0.7; display: flex; flex-direction: column;">
      <div style="flex:0.9; margin-top: 2%">
        <h5 class="text-primary"><%= book.book_name %></h5>
        <p class="text-muted"><%= book.book_description %></p>
        <p class="text-muted">By: <strong><%= book.book_author %></strong></p>
      </div>
      <% if admin_signed_in? %>
        <div style="flex: 0.1; flex-direction: row; align-items: space-between;">
          <%= link_to book_path(book) do %>
            <button class="btn btn-outline-primary">View <%= book.book_name%></button>
          <% end %>
          <%= link_to edit_book_path(book) do %>
            <button class="btn btn-outline-primary">EDIT BOOK</button>
          <% end %>
          <%= link_to book_path(book), :method => 'delete', data: { confirm: "Do you want to delete #{book.book_name}" } do %>
            <button class="btn btn-outline-primary">DELETE BOOK</button>
          <% end %>          
        </div>
      <% else %>
        <div style="flex: 0.1; flex-direction: row">
          <div style="width: 98%; align-items: flex-end;">
            <%= link_to book_path(book), :class => "d-grid gap-2" do %>
              <button class="btn btn-lg btn-primary">View <%= book.book_name%></button>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
  <div style="border-bottom: 1px solid black; width: 100vw; margin-left: -9%; margin-top: 1%"></div>
<% end %>


<!-- <h1>Books</h1>

<table>
  <thead>
    <tr>
      <th>Book name</th>
      <th>Book author</th>
      <th>Book description</th>
      <th>Category</th>
      <th>Book isbn</th>
      <th>Book pages</th>
      <th>Book price</th>
      <th>Book publish date</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @books.each do |book| %>
      <tr>
        <td><%= book.book_name %></td>
        <td><%= book.book_author %></td>
        <td><%= book.book_description %></td>
        <td><%= book.category_id %></td>
        <td><%= book.book_isbn %></td>
        <td><%= book.book_pages %></td>
        <td><%= book.book_price %></td>
        <td><%= book.book_publish_date %></td>
        <td><%= link_to 'Show', book %></td>
        <td><%= link_to 'Edit', edit_book_path(book) %></td>
        <td><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<br>
 -->

<!--
<%= link_to 'New Book', new_book_path %>
-->
